[32mINFO    [0m jubilant:_juju.py:313 cli: juju add-model --no-switch jubilant-b0b09a80
[32mINFO    [0m jubilant:_juju.py:313 cli: juju deploy --model jubilant-b0b09a80 any-charm tinyproxy --base ubuntu@24.04 --channel latest/edge --config 'src-overwrite={"any_charm.py": "\nimport subprocess\nimport textwrap\n\nimport ops\nfrom any_charm_base import AnyCharmBase\n\n\nclass AnyCharm(AnyCharmBase):\n    def __init__(self, *args):\n        super().__init__(*args)\n        self.framework.observe(self.on.install, self._on_install)\n\n    def _on_install(self, _):\n        self.unit.status = ops.MaintenanceStatus(\"downloading tinyproxy\")\n        subprocess.check_call([\"apt-get\", \"update\"])\n        subprocess.check_call([\"apt-get\", \"install\", \"-y\", \"tinyproxy\"])\n\n        self.unit.status = ops.MaintenanceStatus(\"configuring tinyproxy\")\n        with open(\"/etc/tinyproxy/tinyproxy.conf\", \"w\") as f:\n            f.write(\n                textwrap.dedent(\n                    \"\"\"\n                    User tinyproxy\n                    Group tinyproxy\n                    Port 8888\n                    Timeout 600\n                    DefaultErrorFile \"/usr/share/tinyproxy/default.html\"\n                    StatFile \"/usr/share/tinyproxy/stats.html\"\n                    LogFile \"/var/log/tinyproxy/tinyproxy.log\"\n                    LogLevel Info\n                    PidFile \"/run/tinyproxy/tinyproxy.pid\"\n                    MaxClients 100\n                    \"\"\"\n                )\n            )\n\n        subprocess.check_call([\"systemctl\", \"restart\", \"tinyproxy\"])\n        self.unit.set_ports(8888)\n        self.unit.status = ops.ActiveStatus()\n"}'